riot.tag2("af-collapsible",'<ul><li each="{header, i in headers}" class="{is-active: header.isOpen}"><af-raw class="header" text="{header.title}" onclick="{parent.toggleHeader}"></af-raw><af-raw class="body" text="{header.body}" if="{header.body}"></af-raw><af-collapsible class="body" headers="{header.children}" if="{header.children}"></af-collapsible></li></ul>',"","",function(e){var a=this;if(a.headers=e.headers,!a.opts.multiple)for(var r=0,i=a.headers.length;r<i;++r)if(a.headers[r].isOpen){a.current=a.headers[r];break}this.toggleHeader=function(e){a.opts.multiple||(a.current&&a.current!==e.item.header&&(a.current.isOpen=!1),a.current=e.item.header),e.item.header.isOpen=!e.item.header.isOpen,a.opts.bus&&a.opts.bus.trigger("headerchanged",e.item.header)}});