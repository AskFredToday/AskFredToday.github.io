riot.tag2("af-input",'<form name="{opts.name}" onsubmit="{onsubmit}" autocomplete="on"><input riot-value="{currentvalue}" onfocus="{onFocus}" onblur="{onBlur}" type="{opts.type}" oninput="{onEdit}" name="{opts.name}" autocomplete="on"><label onclick="{focusInput}">{opts.label}</label><div class="after"></div></form>',"","",function(t){var u=this;u.currentvalue=t.initvalue,u.onsubmit=function(t){t.preventDefault(),u.opts.bus&&u.opts.bus.trigger("submit",u.opts.iid,u.currentValue)},u.on("mount",function(){u.inputField=u.root.getElementsByTagName("input")[0],u.updateClassName()}),u.onFocus=function(t){u.inputField.className="isFocused isFilled"},u.onEdit=function(t){u.currentvalue=t.target.value,u.opts.bus&&u.opts.bus.trigger("newValue",u.opts.iid,t.target.value)},u.onBlur=function(t){u.updateClassName(),u.currentvalue=t.target.value,u.opts.bus&&u.opts.bus.trigger("newValue",u.opts.iid,t.target.value)},u.focusInput=function(){u.inputField.focus()},u.updateClassName=function(){u.inputField.className=""!=u.inputField.value?"isFilled":""},u.opts.bus&&u.opts.bus.on("setValue",function(t){u.currentvalue=t,u.update()}),u.opts.bus&&u.opts.bus.on("setFocus",function(){u.focusInput()})});