riot.tag2("af-input",'<input riot-value="{currentvalue}" onfocus="{onFocus}" onblur="{onBlur}" type="{opts.type}" onkeyup="{onEdit}"><label onclick="{focusInput}">{opts.label}</label><div class="after"></div>',"","",function(t){var i=this;i.currentvalue=t.initvalue,this.on("mount",function(){this.inputField=this.root.getElementsByTagName("input")[0],this.updateClassName()}),this.onFocus=function(t){i.inputField.className="isFocused isFilled"}.bind(this),this.onEdit=function(t){i.currentvalue=t.target.value,i.opts.bus&&i.opts.bus.trigger("newValue",i.opts.iid,t.target.value)}.bind(this),this.onBlur=function(t){i.updateClassName(),i.currentvalue=t.target.value,i.opts.bus&&i.opts.bus.trigger("newValue",i.opts.iid,t.target.value)}.bind(this),this.focusInput=function(){i.inputField.focus()}.bind(this),this.updateClassName=function(){i.inputField.className=""!=i.inputField.value?"isFilled":""}.bind(this),i.opts.bus&&i.opts.bus.on("setValue",function(t){i.currentvalue=t,i.update()})});