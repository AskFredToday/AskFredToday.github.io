riot.tag2("af-tabbar",'<ul><li each="{tab, i in tabs}" class="{is-active: parent.isActiveTab(tab.id)}" onclick="{parent.toggleTab}">{tab.title}</li></ul><div class="after"></div>',"","",function(t){var e=this;e.tabs=t.tabs,e.activeTab=t.active||t.tabs&&t.tabs[0],this.isActiveTab=function(t){return this.activeTab.id===t},this.toggleTab=function(t){var a=e.root.getElementsByClassName("after")[0];e.after=a,e.afterleft=t.target.offsetLeft,a.style.left=e.afterleft-t.target.parentNode.scrollLeft+"px",a.style.width=t.target.offsetWidth+"px",e.activeTab=t.item.tab,e.opts.bus&&e.opts.bus.trigger("tabchanged",t.item.tab)},this.on("mount",function(){setTimeout(function(){e.toggleTab({target:e.root.getElementsByClassName("is-active")[0],item:{tab:e.activeTab}}),e.root.firstChild.onscroll=function(){e.after.style.left=e.afterleft-this.scrollLeft+"px"}},1)}),this.root});