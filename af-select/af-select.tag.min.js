riot.tag2("af-select",'<span class="input isFilled" onclick="{onFocus}">{currentTitle}</span><i class="material-icons" onclick="{onFocus}">keyboard_arrow_down</i><label onclick="{onFocus}">{opts.label}</label><div class="options"><ul><li each="{option in opts.options}" onclick="{selectOption}" class="{current : (currentTitle == option.title)}">{option.title}</li></ul></div><div class="overlay" onclick="{closeSelect}"></div>',"","",function(i){var t=this;t.currentTitle=t.opts.initvalue.title,this.on("mount",function(){this.inputField=this.root.getElementsByClassName("input")[0]}),this.onFocus=function(i){this.inputField.className="input isFocused isFilled"},this.closeSelect=function(i){t.inputField.className="input isFilled"},this.selectOption=function(i){t.currentTitle=this.option.title,t.opts.bus&&t.opts.bus.trigger("newValue",this.option),t.inputField.className="input isFilled"},i.bus&&i.bus.on("setValue",function(i){t.currentTitle=i.title,t.update()})});